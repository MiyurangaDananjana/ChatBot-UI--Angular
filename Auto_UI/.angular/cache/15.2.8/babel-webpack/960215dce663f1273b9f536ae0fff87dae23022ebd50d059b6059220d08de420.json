{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/servic.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"d-flex\": a0,\n    \"justify-content-between\": a1,\n    \"mb-4\": a2\n  };\n};\nfunction ChatPageComponent_li_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 23)(1, \"div\", 24)(2, \"div\", 14)(3, \"div\", 15);\n    i0.ɵɵtext(4, \"You\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 16);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    const last_r4 = ctx.last;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(2, _c0, !last_r4, !last_r4, !last_r4));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(item_r3);\n  }\n}\nfunction ChatPageComponent_li_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const symptom_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(symptom_r5);\n  }\n}\nfunction ChatPageComponent_li_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const treatment_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(treatment_r6);\n  }\n}\nexport class ChatPageComponent {\n  constructor(service) {\n    this.service = service;\n    this.messages = [];\n  }\n  ngOnInit() {\n    const storeMessages = localStorage.getItem('messages');\n    if (storeMessages) {\n      this.messages = JSON.parse(storeMessages);\n    }\n  }\n}\nChatPageComponent.ɵfac = function ChatPageComponent_Factory(t) {\n  return new (t || ChatPageComponent)(i0.ɵɵdirectiveInject(i1.ServicService));\n};\nChatPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ChatPageComponent,\n  selectors: [[\"app-chat-page\"]],\n  decls: 38,\n  vars: 6,\n  consts: [[1, \"container\"], [1, \"row\", \"justify-content-center\"], [1, \"col-lg-8\"], [1, \"card\", \"border-0\", \"shadow\"], [1, \"card-header\", \"bg-primary\", \"text-white\", \"py-2\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"d-flex\", \"align-items-center\"], [1, \"fa\", \"fa-comments-o\", \"fa-lg\", \"me-2\"], [1, \"mb-0\"], [1, \"card-body\"], [1, \"list-unstyled\", \"mb-0\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-between\", \"mb-4\"], [1, \"chat-item-left\", \"element-user\"], [1, \"chat-avatar\"], [1, \"chat-name\"], [1, \"chat-item\"], [4, \"ngFor\", \"ngForOf\"], [1, \"mb-4\"], [1, \"card-footer\", \"bg-white\"], [1, \"input-group\"], [\"type\", \"text\", \"name\", \"message\", \"placeholder\", \"Type your message here...\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [3, \"ngClass\"], [1, \"chat-item-left\", \"element\"]],\n  template: function ChatPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6);\n      i0.ɵɵelement(7, \"i\", 7);\n      i0.ɵɵelementStart(8, \"h5\", 8);\n      i0.ɵɵtext(9, \"Chat\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(10, \"div\", 9)(11, \"ul\", 10);\n      i0.ɵɵtemplate(12, ChatPageComponent_li_12_Template, 7, 6, \"li\", 11);\n      i0.ɵɵelementStart(13, \"li\", 12)(14, \"div\", 13)(15, \"div\", 14)(16, \"div\", 15);\n      i0.ɵɵtext(17, \"Bot\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 16)(19, \"h4\");\n      i0.ɵɵtext(20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"p\");\n      i0.ɵɵtext(22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"h5\");\n      i0.ɵɵtext(24, \"Symptoms:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"ul\");\n      i0.ɵɵtemplate(26, ChatPageComponent_li_26_Template, 2, 1, \"li\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"h5\");\n      i0.ɵɵtext(28, \"Treatments:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"ul\");\n      i0.ɵɵtemplate(30, ChatPageComponent_li_30_Template, 2, 1, \"li\", 17);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(31, \"li\", 18);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(32, \"div\", 19)(33, \"form\")(34, \"div\", 20)(35, \"input\", 21);\n      i0.ɵɵlistener(\"ngModelChange\", function ChatPageComponent_Template_input_ngModelChange_35_listener($event) {\n        return ctx.message = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"button\", 22);\n      i0.ɵɵlistener(\"click\", function ChatPageComponent_Template_button_click_36_listener() {\n        return ctx.sendMessage();\n      });\n      i0.ɵɵtext(37, \"Send\");\n      i0.ɵɵelementEnd()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate(ctx.data.name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.data.description);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.data.symptoms);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.data.treatments);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.message);\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgForOf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\".container[_ngcontent-%COMP%] {\\r\\n  margin-top: 3rem;\\r\\n}\\r\\n\\r\\n.element[_ngcontent-%COMP%] {\\r\\n  background-color: #27136e4e;\\r\\n  border-radius: 10px;\\r\\n}\\r\\n\\r\\n.element-user[_ngcontent-%COMP%] {\\r\\n  background-color: #27136e2e;\\r\\n  border-radius: 10px;\\r\\n}\\r\\n\\r\\n.chat-name[_ngcontent-%COMP%], .chat-item[_ngcontent-%COMP%]{\\r\\n  margin-left: 1rem;\\r\\n  margin-top: 1rem;\\r\\n  margin-bottom: 1rem;\\r\\n  margin-right: 1rem;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jaGF0LXBhZ2UvY2hhdC1wYWdlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSwyQkFBMkI7RUFDM0IsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsMkJBQTJCO0VBQzNCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixnQkFBZ0I7RUFDaEIsbUJBQW1CO0VBQ25CLGtCQUFrQjtBQUNwQiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xyXG4gIG1hcmdpbi10b3A6IDNyZW07XHJcbn1cclxuXHJcbi5lbGVtZW50IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjcxMzZlNGU7XHJcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcclxufVxyXG5cclxuLmVsZW1lbnQtdXNlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzI3MTM2ZTJlO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbn1cclxuXHJcbi5jaGF0LW5hbWUsIC5jaGF0LWl0ZW17XHJcbiAgbWFyZ2luLWxlZnQ6IDFyZW07XHJcbiAgbWFyZ2luLXRvcDogMXJlbTtcclxuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gIG1hcmdpbi1yaWdodDogMXJlbTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\n{\n  if (this.message == \"clear\") {\n    this.message = '';\n    this.messages.splice(0, this.messages.length);\n  }\n  this.messages.push(this.message);\n  this.message = ''; // clear the input filed after sending the message\n  //save message to local storage\n  this.SubmitData();\n  localStorage.setItem('messages', JSON.stringify(this.messages));\n}\nSubmitData();\n{\n  const lastMassage = this.messages[this.messages.length - 1];\n  console.log(lastMassage);\n  this.service.chat(lastMassage).subscribe(response => {\n    console.log('Message sent to backend successfully');\n    console.log(response);\n    // Additional logic after successful message sending\n  }, error => {\n    console.error('Failed to send message to backend:', error);\n    // Additional error handling\n  });\n}","map":{"version":3,"mappings":";;;;;;;;;;;;;IAcYA,8BACiF;IAGpDA,mBAAG;IAAAA,iBAAM;IAElCA,+BAAuB;IAAAA,YAAU;IAAAA,iBAAM;;;;;IALzCA,kFAA8E;IAKrDA,eAAU;IAAVA,6BAAU;;;;;IAa7BA,0BAA0C;IAAAA,YAAa;IAAAA,iBAAK;;;;IAAlBA,eAAa;IAAbA,gCAAa;;;;;IAIvDA,0BAA8C;IAAAA,YAAe;IAAAA,iBAAK;;;;IAApBA,eAAe;IAAfA,kCAAe;;;AC7BjF,OAAM,MAAOC,iBAAiB;EAC5BC,YAAoBC,OAAsB;IAAtB,YAAO,GAAPA,OAAO;IAU3B,aAAQ,GAAU,EAAE;EAV0B;EAC9CC,QAAQ;IAEN,MAAMC,aAAa,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IACtD,IAAIF,aAAa,EAAE;MACjB,IAAI,CAACG,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACL,aAAa,CAAC;;EAE7C;;AARWJ,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAU;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDR9Bf,8BAAuB;MAOTA,uBAA2C;MAC3CA,6BAAiB;MAAAA,oBAAI;MAAAA,iBAAK;MAIhCA,+BAAuB;MAEnBA,mEAQK;MACLA,+BAAgD;MAGnBA,oBAAG;MAAAA,iBAAM;MAElCA,gCAAuB;MACjBA,aAAe;MAAAA,iBAAK;MACxBA,0BAAG;MAAAA,aAAsB;MAAAA,iBAAI;MAC7BA,2BAAI;MAAAA,0BAAS;MAAAA,iBAAK;MAClBA,2BAAI;MACFA,mEAA4D;MAC9DA,iBAAK;MACLA,2BAAI;MAAAA,4BAAW;MAAAA,iBAAK;MACpBA,2BAAI;MACFA,mEAAkE;MACpEA,iBAAK;MAKXA,0BAAsB;MACxBA,iBAAK;MAEPA,gCAAkC;MAGYA;QAAA;MAAA,EAAqB;MAA7DA,iBAC0C;MAC1CA,mCAAsE;MAAxBA;QAAA,OAASgB,iBAAa;MAAA,EAAC;MAAChB,qBAAI;MAAAA,iBAAS;;;MArChEA,gBAAa;MAAbA,sCAAa;MAexBA,eAAe;MAAfA,mCAAe;MAChBA,eAAsB;MAAtBA,0CAAsB;MAGCA,eAAgB;MAAhBA,2CAAgB;MAIdA,eAAkB;MAAlBA,6CAAkB;MAYVA,eAAqB;MAArBA,qCAAqB;;;;;;AC3B3D;EACZ,IAAG,IAAI,CAACiB,OAAO,IAAI,OAAO,EAAC;IACzB,IAAI,CAACA,OAAO,GAAG,EAAE;IACjB,IAAI,CAACT,QAAQ,CAACU,MAAM,CAAC,CAAC,EAAE,IAAI,CAACV,QAAQ,CAACW,MAAM,CAAC;;EAE/C,IAAI,CAACX,QAAQ,CAACY,IAAI,CAAC,IAAI,CAACH,OAAO,CAAC;EAChC,IAAI,CAACA,OAAO,GAAG,EAAE,CAAC,CAAC;EACnB;EACA,IAAI,CAACI,UAAU,EAAE;EACjBf,YAAY,CAACgB,OAAO,CAAC,UAAU,EAAEb,IAAI,CAACc,SAAS,CAAC,IAAI,CAACf,QAAQ,CAAC,CAAC;;AAGjEa,UAAU,EAAE;AAAC;EACX,MAAMG,WAAW,GAAG,IAAI,CAAChB,QAAQ,CAAC,IAAI,CAACA,QAAQ,CAACW,MAAM,GAAG,CAAC,CAAC;EAC3DM,OAAO,CAACC,GAAG,CAACF,WAAW,CAAC;EACxB,IAAI,CAACrB,OAAO,CAACwB,IAAI,CAACH,WAAW,CAAC,CAACI,SAAS,CACtCC,QAAQ,IAAG;IACTJ,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;IACnDD,OAAO,CAACC,GAAG,CAACG,QAAQ,CAAC;IACrB;EACF,CAAC,EACDC,KAAK,IAAG;IACNL,OAAO,CAACK,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;IAC1D;EACF,CAAC,CACF","names":["i0","ChatPageComponent","constructor","service","ngOnInit","storeMessages","localStorage","getItem","messages","JSON","parse","selectors","decls","vars","consts","template","ctx","message","splice","length","push","SubmitData","setItem","stringify","lastMassage","console","log","chat","subscribe","response","error"],"sourceRoot":"","sources":["C:\\Users\\Miyuranga\\desktop\\ChatBot\\ChatBot_UI\\Auto_UI\\src\\app\\components\\chat-page\\chat-page.component.html","C:\\Users\\Miyuranga\\desktop\\ChatBot\\ChatBot_UI\\Auto_UI\\src\\app\\components\\chat-page\\chat-page.component.ts"],"sourcesContent":["<div class=\"container\">\n  <div class=\"row justify-content-center\">\n    <div class=\"col-lg-8\">\n      <div class=\"card border-0 shadow\">\n        <div class=\"card-header bg-primary text-white py-2\">\n          <div class=\"d-flex justify-content-between align-items-center\">\n            <div class=\"d-flex align-items-center\">\n              <i class=\"fa fa-comments-o fa-lg me-2\"></i>\n              <h5 class=\"mb-0\">Chat</h5>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-body\">\n          <ul class=\"list-unstyled mb-0\">\n            <li *ngFor=\"let item of messages; let last = last\"\n              [ngClass]=\"{'d-flex': !last, 'justify-content-between': !last, 'mb-4': !last}\">\n              <div class=\"chat-item-left element\">\n                <div class=\"chat-avatar\">\n                  <div class=\"chat-name\">You</div>\n                </div>\n                <div class=\"chat-item\">{{ item }}</div>\n              </div>\n            </li>\n            <li class=\"d-flex justify-content-between mb-4\">\n              <div class=\"chat-item-left element-user\">\n                <div class=\"chat-avatar\">\n                  <div class=\"chat-name\">Bot</div>\n                </div>\n                <div class=\"chat-item\">\n                  <h4>{{ data.name }}</h4>\n                  <p>{{ data.description }}</p>\n                  <h5>Symptoms:</h5>\n                  <ul>\n                    <li *ngFor=\"let symptom of data.symptoms\">{{ symptom }}</li>\n                  </ul>\n                  <h5>Treatments:</h5>\n                  <ul>\n                    <li *ngFor=\"let treatment of data.treatments\">{{ treatment }}</li>\n                  </ul>\n                </div>\n              </div>\n\n            </li>\n            <li class=\"mb-4\"></li><!-- Add some vertical space between the chat items -->\n          </ul>\n        </div>\n        <div class=\"card-footer bg-white\">\n          <form>\n            <div class=\"input-group\">\n              <input type=\"text\" class=\"form-control\" [(ngModel)]=\"message\" name=\"message\"\n                placeholder=\"Type your message here...\">\n              <button type=\"submit\" class=\"btn btn-primary\" (click)=\"sendMessage()\">Send</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ServicService } from 'src/app/servic.service';\n\n@Component({\n  selector: 'app-chat-page',\n  templateUrl: './chat-page.component.html',\n  styleUrls: ['./chat-page.component.css']\n})\nexport class ChatPageComponent implements OnInit {\n  constructor(private service: ServicService) { };\n  ngOnInit(): void {\n\n    const storeMessages = localStorage.getItem('messages');\n    if (storeMessages) {\n      this.messages = JSON.parse(storeMessages);\n    }\n  }\n\n  message: any;\n  messages: any[] = [];\n  data:\n\n  sendMessage() {\n    if(this.message == \"clear\"){\n      this.message = '';\n      this.messages.splice(0, this.messages.length);\n    }\n    this.messages.push(this.message);\n    this.message = ''; // clear the input filed after sending the message\n    //save message to local storage\n    this.SubmitData();\n    localStorage.setItem('messages', JSON.stringify(this.messages));\n  }\n\n  SubmitData() {\n    const lastMassage = this.messages[this.messages.length - 1]\n    console.log(lastMassage);\n    this.service.chat(lastMassage).subscribe(\n      response => {\n        console.log('Message sent to backend successfully');\n        console.log(response);\n        // Additional logic after successful message sending\n      },\n      error => {\n        console.error('Failed to send message to backend:', error);\n        // Additional error handling\n      }\n    );\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}